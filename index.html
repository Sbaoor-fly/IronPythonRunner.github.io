<html lang="zh">

<head>
 <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
 <title>IronPythonRunner</title>
 <style type="text/css">
  .title {
   text-align: center;
  }
  .comment {
   color: #008000;
  }
  .string {
   color: #A31515;
  }
  .listen {
   font-size: larger;
   color: #3988e9;
  }
 </style>
</head>

<body>
 <div id="left" style="position: fixed; width: auto;max-width:12%; height: auto; left: 0px; overflow: scroll;">
  <p class="title">索引</p>
  <p>
   <a href="#explain">一、说明</a><br/>
   <a href="#apititle">二、API接口定义</a><br/>
   <a href="#register">三、注册机制</a><br/>
  </p>
 </div>
 <div style="width: 85%; margin-left: 15%;">

  <h1 class="title">帮助文档</h1>
  <h2><a name="explain">一、说明</a></h2>
不同于Twoone3的CpythonRunner，<br>
IronPythonRunner采用.NET框架下的IronPython解释器 <br>
使用之前,请确保您已了解了IronPython的语法,可参考 <br>
  <a href="https://IronPython.net">IronPython.net</a><br/>

  <h2><a name="apititle">二、API接口定义</a></h2>
   <span class="string">注意：此页面信息过于陈旧且更新较慢，如需最新开发文档，请参考 ——> </span>
   <a href="https://github.com/Sbaoor-fly/CSR-IronPythonRunner/wiki">IronPythonRunner/wiki</a><br/>
  <p>mc.logout(msg)</p>
  <span class="comment">
   功能：发送一条命令输出消息(可被拦截)<br/>
   参数类型：字符串<br/>
   参数详解：msg - 待发送的命令输出字符串<br/>
  </span>
  [例] mc.logout(<span class="string">'你好，ironpython'</span>)

  <p>mc.runcmd(cmd)</p>
  <span class="comment">
   功能：执行后台指令<br/>
   参数类型：字符串<br/>
   参数详解：cmd - 语法正确的MC指令<br/>
   返回值：是否正常执行<br/>
  </span>
  [例] mc.runcmd(<span class="string">'say ironpython!'</span>)


  <p>mc.setCommandDescribe(key,descripition)</p>
  <span class="comment">
   功能：设置一个全局指令说明<br/>
   参数类型：字符串 字符串<br/>
   参数详解：key - 命令 description - 命令说明<br/>
   备注：一定要在全局注册 否则不会改变客户端界面<br/>
  </span>
  [例] mc.setCommandDescribe(<span class="string">'test'</span>,<span class="string">'注册指令测试'</span>)

  <p>mc.getOnLinePlayers()</p>
  <span class="comment">
   功能：获取玩家列表<br/>
   参数类型：无<br/>
   返回值：在线玩家json列表<br/>
  </span>
  [例] mc.getOnLinePlayers()

  <p>mc.sendSimpleForm(uuid,title,contest,buttons)</p>
  <span class="comment">
   功能：向指定的玩家发送一个简单表单<br/>
   参数类型：字符串 字符串 字符串 字符串<br/>
   参数详解：uuid - 玩家uuid title - 表单标题 contest - 内容 buttons - 按钮文本数组字符串<br/>
   返回值：创建的表单id 为 0 表示发送失败
  </span><br/>
  [例] mc.sendSimpleForm(uuid, <span class="string">'致命选项'</span>, <span class="string">'请选择：'</span>, <span class="string">'[{"text":"生存"},{"text":"死亡"},{"text":"求助"}]'</span>)

  <p>mc.sendModalForm(uuid, title, contest, button1,button2)</p>
  <span class="comment">
   功能：向指定的玩家发送一个模式对话框<br/>
   参数类型：字符串 字符串 字符串 字符串 字符串<br/>
   参数详解：uuid - 玩家uuid title - 表单标题 content - 内容 button1 按钮1标题（点击该按钮selected为true） button2
   按钮2标题（点击该按钮selected为false）<br/>
   返回值：创建的表单id 为 0 表示发送失败
  </span><br/>
  [例] mc.sendModalForm(uuid, <span class="string">'没有第三个选项'</span>, <span class="string">'请选择：'</span>, <span class="string">'生存'</span>, <span class="string">'死亡'</span>)

  <p>mc.sendCustomForm(uuid,json)</p>
  <span class="comment">
   功能：向指定的玩家发送一个自定义表单<br/>
   参数类型：整数 字符串<br/>
   参数详解：uuid - 玩家uuid json - 自定义表单的json字符串(要使用自定义表单类型 参考nk、pm格式或minebbs专栏)<br/>
   返回值：创建的表单id 为 0 表示发送失败
  </span><br/>
  [例] mc.sendCustomForm(uuid,<span class="string">'{"content":[{"type":"label","text":"这是一个文本标签"},{"placeholder":"水印文本","default":"","type":"input","text":""},{"default":true,"type":"toggle","text":"开关~或许是吧"},{"min":0.0,"max":10.0,"step":2.0,"default":3.0,"type":"slider","text":"游标滑块！？"},{"default":1,"steps":["Step1","Step2","Step 3"],"type":"step_slider","text":"矩阵滑块？!"},{"default":1,"options":["Option 1","Option2","Option3"],"type":"dropdown","text":"如你所见 下拉框"}], "type":"custom_form","title":"这是一个自定义窗体"}'</span>)

  <p>mc.transferserver(uuid, addr, port)</p>
  <span class="comment">
   功能：传送玩家至指定服务器<br/>
   参数类型：字符串 字符串 整数<br/>
   参数详解：uuid - 玩家uuid addr - 待传服务器 port - 端口<br/>
   返回值：是否传送成功
  </span><br/>
  [例] mc.transferServer(uuid,<span class="string">'sbaoor.cool'</span>, 19132)

  <p>mc.selectPlayer(uuid)</p>
  <span class="comment">
   功能：查询在线玩家基本信息<br/>
   参数类型：字符串<br/>
   参数详解：uuid - 玩家指针<br/>
   返回值：玩家基本信息json
  </span><br/>
  [例] mc.selectPlayer(uuid)
  

  <p>mc.setPlayerPermissionAndGametype(uuid, modes)</p>
  <span class="comment">
   功能：设置玩家权限<br/>
   参数类型：字符串 整数<br/>
   参数详解：uuid - 玩家uuid perm - 权限等级<br/>
  </span><br/>
  [例] mc.setPlayerPermissionAndGametype(uuid, 1)

  <p>mc.reName(uuid, <span class="string">'name')</p>
  <span class="comment">
   功能：重命名一个指定的玩家名<br/>
   参数类型：字符串 字符串<br/>
   参数详解：uuid - 玩家uuid name - 新的名称<br/>
   返回值：是否命名成功<br/>
   备注：该函数可能不会变更客户端实际显示名
  </span><br/>
  [例] mc.reName(uuid,<span class="string">'Sbaoor'</span>)

  <p>mc.getscoreboard(uuid,scoreboardname)</p>
  <span class="comment">
   功能：获取玩家分数<br/>
   参数类型：字符串 字符串<br/>
   参数详解：uuid - 玩家uuid scoreboardname - 计分板名称<br/>
   返回值：分数<br/>
  </span><br/>
  [例] mc.getscoreboard(uuid,<span class="string">'test'</span>)

  <p>mc.talkAs(uuid,msg)</p>
  <span class="comment">
   功能：模拟玩家发送一个文本<br/>
   参数类型：字符串 字符串<br/>
   参数详解：uuid - 玩家uuid msg - 待模拟发送的文本<br/>
   返回值：是否发送成功
  </span><br/>
  [例] mc.talkAs(uuid,<span class="string">'ipyr!'</span>)

  <p>mc.runcmdAs(uuid,cmd)</p>
  <span class="comment">
   功能：模拟玩家执行一个指令<br/>
   参数类型：字符串 字符串<br/>
   参数详解：uuid - 玩家uuid cmd - 待模拟执行的指令<br/>
   返回值：是否发送成功
  </span><br/>
  [例] mc.runcmdAs(uuid,<span class="string">'/me ipyr!'</span>)

  <p>mc.teleport(uuid,x,y,z,did)</p>
  <span class="comment">
   功能：传送玩家至指定坐标和维度<br/>
   参数类型：字符串 浮点数 浮点数 浮点数 整数<br/>
   参数详解：uuid - 玩家uuid X - x Y - y Z - z did - 维度ID<br/>
   返回值：是否传送成功
  </span><br/>
  [例] mc.teleport(uuid, 10, 99, 10, 2)

  <p>mc.tellraw(plname,msg)</p>
  <span class="comment">
   功能：向玩家发送一个原始文本<br/>
   参数类型：字符串 字符串<br/>
   参数详解：plname - 玩家名字 msg - 待发送的文本<br/>
   返回值：是否发送成功
  </span><br/>
  [例] mc.tellraw('Sbaoor',<span class="string">'ipyr!'</span>)

  <p>mc.addPlayerItem(uuid,id,aux ,count)</p>
  <span class="comment">
   功能：增加玩家一个物品<br/>
   参数类型：字符串 整数 整数 整数<br/>
   参数详解：uuid - 玩家uuid id - 物品id值 aux - 物品特殊值 count - 数量<br/>
   返回值：是否增加成功<br/>
   备注：特定条件下可能不会变更游戏内实际物品
  </span><br/>
  [例] mc.addPlayerItem(uuid, 9, 0, 32)

  <p>mc.setPlayerBossBar(uuid,title,percent)</p>
  <span class="comment">
   功能：设置玩家自定义血条<br/>
   参数类型：字符串 字符串 浮点数<br/>
   参数详解：uuid - 玩家uuid title - 血条标题 percent - 血条百分比<br/>
   返回值：是否设置成功
  </span><br/>
  [例] mc.setPlayerBossBar(uuid,<span class="string">'标题'</span>, 1.00)

  <p>mc.removePlayerBossBar(uuid)</p>
  <span class="comment">
   功能：清除玩家自定义血条<br/>
   参数类型：字符串<br/>
   参数详解：uuid - 玩家uuid<br/>
   返回值：是否清除成功
  </span><br/>
  [例] mc.removePlayerBossBar(uuid)

  <p>mc.setPlayerSidebar(uuid,title,list)</p>
  <span class="comment">
   功能：设置玩家自定义侧边栏临时计分板<br/>
   参数类型：字符串 字符串 字符串<br/>
   参数详解：uuid - 玩家uuid title - 侧边栏标题 list - 列表字符串数组<br/>
   返回值：是否设置成功<br/>
   (注：列表总是从第1行开始 总计不超过15行)<br/>
  </span>
  [例] mc.setPlayerSidebar(player,<span class="string">'自定义侧边栏'</span>, <span class="string">'["第一行", "第二行", "我在哪行?"]'</span>)<br/>

  <p>mc.removePlayerSidebar(uuid)</p>
  <span class="comment">
   功能：清除玩家自定义侧边栏<br/>
   参数类型：字符串<br/>
   参数详解：uuid - 玩家uuid<br/>
   返回值：是否清除成功<br/>
  </span>
  [例] mc.removePlayerSidebar(uuid)

  <h2><a name="register">三、注册机制</a></h2>

  <span class="string">本插件运行平台采用事件驱动机制与游戏进行内容交互。注册监听关键字 通过特定事件被触发后的回传结果 进行判断、执行额外指令来实现插件功能。<br/></span>
 此页面不做过多阐述，详见 <br>
  <a href="https://github.com/Sbaoor-fly/CSR-IronPythonRunner/wiki">IronPythonRunner/wiki</a><br/>
 </div>
</body>

</html>